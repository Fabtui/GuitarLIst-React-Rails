  <div class="table_container">
    <table>
      <thead>
        <tr>
        <th scope="col"> </th>
        <% @guitars.each do |guitar| %>
          <th scope="col"><%= guitar.name %></th>
        <% end %>
        </tr>
      </thead>
      <tbody>
        <% @guitars_categories.each do |guitar_category| %>
          <% cat = guitar_category[0].to_sym %>
          <tr>
             <th scope="col"><%= guitar_category[1] %></th>
             <% @guitars.each do |guitar| %>

              <% if guitar_category[0] == 'neck_pickup_id' %>
                <% if guitar.neck_pickup_id %>
                  <% pickup = Pickup.find(guitar.neck_pickup_id) %>
                  <td><%= pickup.brand %> <%= pickup.name %></td>
                <% else %>
                  <td></td>
                <% end %>

              <% elsif guitar_category[0] == 'center_pickup_id' %>
                <% if guitar.center_pickup_id %>
                  <% pickup = Pickup.find(guitar.center_pickup_id) %>
                  <td><%= pickup.brand %> <%= pickup.name %></td>
                <% else %>
                  <td></td>
                <% end %>

              <% elsif guitar_category[0] == 'bridge_pickup_id' %>
                <% if guitar.bridge_pickup_id %>
                  <% pickup = Pickup.find(guitar.bridge_pickup_id) %>
                  <td><%= pickup.brand %> <%= pickup.name %></td>
                <% else %>
                  <td></td>
                <% end %>

              <% else %>
                <td><%= guitar.send(cat) %></td>
              <% end %>
             <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
